<section id="Product-category">
  <app-header [title]="'Product Category'"></app-header>

  <div class="create-btn-container">
    <button
      (click)="openForm()"
      class="btn zns-btn-md zns-btn-primary mob-change"
    >
      Add New Category
    </button>
  </div>

  <div class="all-cat-section">
    <div class="top">
      <span><img src="assets/icons/User-2.svg" alt="User-icon" /></span>
      <span>
        <button mat-button [matMenuTriggerFor]="menu">
          This Week
          <span
            ><img class="down-icon" src="assets/icons/fi-down.svg" alt="icon"
          /></span>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item>This Week</button>
          <button mat-menu-item>This Month</button>
        </mat-menu>
      </span>
    </div>

    <div class="row bottom">
      <div class="col-12 col-md-4 col-sm-12 all-cat">
        <h5 class="zns-para-1">All-category</h5>
        <span class="price zns-sub-heading"
          >1,250
          <small class="zns-para" id="smally">+15.80%</small>
        </span>
      </div>

      <div class="col col-md-4 col-sm-6 active-cat two-column">
        <h5 class="zns-para-1">Active</h5>
        <span class="price zns-sub-heading">1,180</span>
      </div>

      <div class="col col-md-4 col-sm-6 inactive-cat two-column">
        <h5 class="zns-para-1">In-active</h5>
        <span class="price zns-sub-heading">70</span>
      </div>
    </div>
  </div>

  <!-- Table Section -->

  <div class="table-content">
    <div class="filters">
      <div class="table-title">Product Category</div>

      <div class="table-filter">
        <span
          ><div class="input-style1 search-input">
            <mat-form-field appearance="outline">
              <span matPrefix class="img-fluid">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M7.33301 13.3333C10.6467 13.3333 13.333 10.647 13.333 7.33325C13.333 4.01954 10.6467 1.33325 7.33301 1.33325C4.0193 1.33325 1.33301 4.01954 1.33301 7.33325C1.33301 10.647 4.0193 13.3333 7.33301 13.3333Z"
                    stroke="#2F80ED"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M12.6206 13.7931C12.9739 14.8598 13.7806 14.9665 14.4006 14.0331C14.9673 13.1798 14.5939 12.4798 13.5673 12.4798C12.8073 12.4731 12.3806 13.0665 12.6206 13.7931Z"
                    stroke="#2F80ED"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </span>
              <input
                matInput
                (keyup)="filterSearch($event)"
                placeholder="Search"
              />
            </mat-form-field></div
        ></span>
        <span>
          <div class="input-style1 input-width">
            <mat-form-field appearance="outline">
              <span matPrefix class="img-fluid">
                <img src="assets/icons/fi_filter.svg" alt="filter-svg" />
              </span>
              <input matInput placeholder="sort" />
            </mat-form-field>
          </div>
        </span>
      </div>
    </div>

    <!-- Table -->
    <ng-container *ngIf="dataSource !== null">
      <div class="table-responsive product-table">
        <table matSort mat-table [dataSource]="dataSource">
          <ng-container matColumnDef="check">
            <th mat-header-cell *matHeaderCellDef>
              <mat-checkbox color="primary" checked> </mat-checkbox>
            </th>

            <td mat-cell *matCellDef="let row">
              <mat-checkbox
                color="primary"
                [checked]="row.check"
              ></mat-checkbox>
            </td>
          </ng-container>

          <ng-container matColumnDef="category">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>
              Categories
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <span class="d-flex justify-content-start align-items-center">
                <span> {{ row.category }}</span>
              </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="createdBy">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>
              Created By
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <span class="d-flex justify-content-start align-items-center">
                <span> {{ row.createdBy }}</span>
              </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="date">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>
              Create Date
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <span class="d-flex justify-content-start align-items-center">
                <span> {{ row.date }}</span>
              </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="lastToUpdate">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>
              Last Update By
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <span class="d-flex justify-content-start align-items-center">
                <span> {{ row.lastToUpdate }}</span>
              </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="updated">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>
              Last Date Updated
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <span class="d-flex justify-content-start align-items-center">
                <span> {{ row.updated }}</span>
              </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="status">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>
              Status
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <span
                [ngClass]="row.status ? 'status-active' : 'status-inactive'"
                class="fw-400"
              >
                {{ row.status ? "Active" : "Inactive" }}
              </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="action">
            <th mat-sort-header mat-header-cell *matHeaderCellDef>
              Action
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <div class="table-action-col">
                <span><img src="assets/icons/edit.svg" alt="edit-icon" /></span>
                <span>
                  <mat-slide-toggle
                    color="warn"
                    [checked]="row.action"
                  ></mat-slide-toggle>
                </span>
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>
      <mat-paginator
        [pageSize]="5"
        [length]="currentLength"
        [pageSizeOptions]="[5, 10, 15, 20, 25, 30]"
        showFirstLastButtons
      ></mat-paginator>
    </ng-container>
  </div>
</section>
