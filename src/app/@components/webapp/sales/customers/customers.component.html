<section id="customers">
  <app-header [title]="'Customers'"></app-header>

  <div class="create-btn-container">
    <button
      class="btn zns-btn-md zns-btn-primary mob-change"
      (click)="openDialog()"
    >
      Add New Customer
    </button>
  </div>

  <div class="all-cat-section">
    <div class="top">
      <span><img src="assets/icons/User-2.svg" alt="User-icon" /></span>
      <span>
        <button mat-button [matMenuTriggerFor]="menu">
          This Week
          <span
            ><img class="down-icon" src="assets/icons/fi-down.svg" alt="icon"
          /></span>
        </button>
        <mat-menu #menu="matMenu">
          <button mat-menu-item>This Week</button>
          <button mat-menu-item>This Month</button>
          <button mat-menu-item>This Year</button>
        </mat-menu>
      </span>
    </div>

    <div class="row">
      <div class="col-12 col-md-3 col-sm-12 all-cat">
        <h5 class="zns-para-1">All Customers</h5>
        <span class="price zns-sub-heading"
          >1,250
          <small class="zns-para" id="smally">+15.80%</small>
        </span>
      </div>

      <div class="col-12 col-md-4 col-sm-12 two-column">
        <div class="d-flex flex-row">
          <div class="col two-column">
            <h5 class="zns-para-1">Active</h5>
            <span class="price zns-sub-heading"
              >1,180 <small class="zns-para">-10%</small></span
            >
          </div>

          <div class="col two-column">
            <h5 class="zns-para-1">In-active</h5>
            <span class="price zns-sub-heading"
              >70<small class="zns-para">+85%</small></span
            >
          </div>
        </div>
      </div>

      <div class="col-12 col-md-5 col-sm-12 two-column">
        <div class="d-flex flex-row">
          <div class="col two-column">
            <h5 class="zns-para-1">New Customers</h5>
            <span class="price zns-sub-heading"
              >1,180 <small class="zns-para">+36%</small></span
            >
          </div>

          <div class="col two-column">
            <h5 class="zns-para-1">Total Purchase</h5>
            <span class="price zns-sub-heading">10,000</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Table Section -->
  <div class="table-content">
    <div class="filters">
      <div class="table-title">Customers</div>

      <div class="table-filter">
        <span
          ><div class="input-style1 search-input">
            <mat-form-field appearance="outline">
              <span matPrefix class="img-fluid">
                <svg
                  width="16"
                  height="16"
                  viewBox="0 0 16 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M7.33301 13.3333C10.6467 13.3333 13.333 10.647 13.333 7.33325C13.333 4.01954 10.6467 1.33325 7.33301 1.33325C4.0193 1.33325 1.33301 4.01954 1.33301 7.33325C1.33301 10.647 4.0193 13.3333 7.33301 13.3333Z"
                    stroke="#2F80ED"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M12.6206 13.7931C12.9739 14.8598 13.7806 14.9665 14.4006 14.0331C14.9673 13.1798 14.5939 12.4798 13.5673 12.4798C12.8073 12.4731 12.3806 13.0665 12.6206 13.7931Z"
                    stroke="#2F80ED"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </span>
              <input matInput placeholder="Search" />
            </mat-form-field></div
        ></span>
        <span>
          <div class="input-style1 input-width">
            <mat-form-field appearance="outline">
              <span matPrefix class="img-fluid">
                <img src="assets/icons/fi_filter.svg" alt="filter-svg" />
              </span>
              <input matInput placeholder="sort" />
            </mat-form-field>
          </div>
        </span>
      </div>
    </div>

    <!-- Table -->
    <ng-container>
      <div class="table-responsive product-table">
        <table mat-table [dataSource]="datasource" class="mat-elevattion-z8">
          <ng-container matColumnDef="check">
            <th mat-header-cell *matHeaderCellDef>
              <mat-checkbox color="primary" checked> </mat-checkbox>
            </th>

            <td mat-cell *matCellDef="let row">
              <mat-checkbox
                color="primary"
                [checked]="row.check"
              ></mat-checkbox>
            </td>
          </ng-container>

          <ng-container matColumnDef="name">
            <th
              mat-header-cell
              *matHeaderCellDef
              (click)="navigateToOtherComponent()"
            >
              <a routerLink="\deets">Customer Name</a>
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <span class="d-flex justify-content-start align-items-center">
                <span> {{ row.name }}</span>
              </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="email">
            <th mat-header-cell *matHeaderCellDef>
              Email
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <span class="d-flex justify-content-start align-items-center">
                <span> {{ row.email }}</span>
              </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="phone">
            <th mat-header-cell *matHeaderCellDef>
              Phone
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <span class="d-flex justify-content-start align-items-center">
                <span> {{ row.phone }}</span>
              </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="orders">
            <th mat-header-cell *matHeaderCellDef>
              Orders
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <span class="d-flex justify-content-start align-items-center">
                <span> {{ row.orders }}</span>
              </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="ordersTotal">
            <th mat-header-cell *matHeaderCellDef>
              Orders Total
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <span class="d-flex justify-content-start align-items-center">
                <span> {{ row.ordersTotal }}</span>
              </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="createdDate">
            <th mat-header-cell *matHeaderCellDef>
              Customer Since
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <span class="d-flex justify-content-start align-items-center">
                <span>
                  {{ row.createdDate | date : "dd MMM yyyy - hh:mm a" }}</span
                >
              </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="status">
            <th mat-header-cell *matHeaderCellDef>
              Status
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <span
                [ngClass]="row.status ? 'status-active' : 'status-inactive'"
                class="fw-400"
              >
                {{ row.status ? "Active" : "Inactive" }}
              </span>
            </td>
          </ng-container>

          <ng-container matColumnDef="action">
            <th mat-header-cell *matHeaderCellDef>
              Action
              <span
                ><img
                  class="filter-icon"
                  src="assets/icons/sort.svg"
                  alt="sort-icon"
              /></span>
            </th>

            <td mat-cell *matCellDef="let row">
              <div class="table-action-col">
                <span><img src="assets/icons/edit.svg" alt="edit-icon" /></span>
                <span>
                  <mat-slide-toggle
                    color="warn"
                    [checked]="row.action"
                  ></mat-slide-toggle>
                </span>
              </div>
            </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
        </table>
      </div>
      <mat-paginator
        [length]="5"
        [pageSizeOptions]="[5, 10, 15, 20]"
      ></mat-paginator>
    </ng-container>
  </div>
</section>
